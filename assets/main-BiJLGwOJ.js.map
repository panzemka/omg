{"version":3,"file":"main-BiJLGwOJ.js","sources":["../../src/js/http.js","../../src/js/daily-quote.js","../../src/images/icons/ic-remove.svg","../../src/images/icons/ic-star-filled.svg","../../src/images/icons/ic-star-empty.svg","../../src/images/icons/ic-go.svg","../../src/images/icons/ic-athlete-light.svg","../../src/images/icons/ic-close-light.svg","../../src/images/icons/ic-save-dark.svg","../../src/images/icons/ic-save-filled-dark.svg","../../src/images/icons/ic-back-dark.svg","../../src/images/icons/ic-back-light.svg","../../src/images/icons/ic-skip-back-dark.svg","../../src/images/icons/ic-skip-back-light.svg","../../src/js/assets.js","../../src/js/templates.js","../../src/js/pager.js","../../src/js/finder.js","../../src/js/workouts.js","../../src/js/categories.js","../../src/js/saved.js","../../src/js/newsletter.js","../../src/js/review-modal.js","../../src/js/detail-modal.js","../../src/main.js"],"sourcesContent":["const API_URL = 'https://your-energy.b.goit.study/api';\n\nasync function request(path, options = {}) {\n  const response = await fetch(`${API_URL}${path}`, options);\n\n  if (!response.ok) {\n    let payload;\n    try {\n      payload = await response.json();\n    } catch {\n      payload = null;\n    }\n    const message = payload?.message ?? `Request failed: ${response.status}`;\n    const error = new Error(message);\n    error.status = response.status;\n    throw error;\n  }\n\n  return response.json();\n}\n\nexport function fetchQuote() {\n  return request('/quote');\n}\n\nexport function fetchCategories(filter, page = 1, limit = 12) {\n  const params = new URLSearchParams({ filter, page, limit });\n  return request(`/filters?${params}`);\n}\n\nexport function fetchWorkouts(params = {}) {\n  const query = new URLSearchParams(params);\n  return request(`/exercises?${query}`);\n}\n\nexport function fetchWorkoutById(id) {\n  return request(`/exercises/${id}`);\n}\n\nexport function submitRating(id, body) {\n  return request(`/exercises/${id}/rating`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body),\n  });\n}\n\nexport function submitSubscription(email) {\n  return request('/subscription', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email }),\n  });\n}","import { fetchQuote } from './http.js';\n\nconst QUOTE_KEY = 'dailyQuote';\n\nfunction todayString() {\n  return new Date().toDateString();\n}\n\nfunction readFromCache() {\n  try {\n    const raw = localStorage.getItem(QUOTE_KEY);\n    if (!raw) return null;\n    const data = JSON.parse(raw);\n    if (data.date !== todayString()) return null;\n    return { quote: data.quote, author: data.author };\n  } catch {\n    return null;\n  }\n}\n\nfunction writeToCache(quote, author) {\n  try {\n    localStorage.setItem(\n      QUOTE_KEY,\n      JSON.stringify({ quote, author, date: todayString() })\n    );\n  } catch {\n    // storage may be unavailable\n  }\n}\n\nfunction renderQuote(quote, author) {\n  const textEl = document.querySelector('.quote-card-quote');\n  const authorEl = document.querySelector('.quote-card-author');\n  if (textEl) textEl.textContent = quote;\n  if (authorEl) authorEl.textContent = author;\n}\n\nexport function initDailyQuote() {\n  const cached = readFromCache();\n  if (cached) {\n    renderQuote(cached.quote, cached.author);\n    return;\n  }\n\n  fetchQuote()\n    .then(data => {\n      renderQuote(data.quote, data.author);\n      writeToCache(data.quote, data.author);\n    })\n    .catch(() => {\n      // fallback to static HTML content\n    });\n}","export default \"data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2016.5%2018.1667'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Icon'%20d='M11.5833%204.08333V3.41667C11.5833%202.48325%2011.5833%202.01654%2011.4017%201.66002C11.2419%201.34641%2010.9869%201.09145%2010.6733%200.931657C10.3168%200.750001%209.85009%200.750001%208.91667%200.750001H7.58333C6.64991%200.750001%206.1832%200.750001%205.82668%200.931657C5.51308%201.09145%205.25811%201.34641%205.09832%201.66002C4.91667%202.01654%204.91667%202.48325%204.91667%203.41667V4.08333M6.58333%208.66667V12.8333M9.91667%208.66667V12.8333M0.75%204.08333H15.75M14.0833%204.08333V13.4167C14.0833%2014.8168%2014.0833%2015.5169%2013.8108%2016.0516C13.5712%2016.5221%2013.1887%2016.9045%2012.7183%2017.1442C12.1835%2017.4167%2011.4835%2017.4167%2010.0833%2017.4167H6.41667C5.01654%2017.4167%204.31647%2017.4167%203.78169%2017.1442C3.31129%2016.9045%202.92883%2016.5221%202.68915%2016.0516C2.41667%2015.5169%202.41667%2014.8168%202.41667%2013.4167V4.08333'%20stroke='var(--stroke-0,%20%23242424)'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2012.9675%2012.4316'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Star%201'%20d='M5.53268%200.690983C5.83204%20-0.230327%207.13545%20-0.230328%207.4348%200.690983L8.27985%203.2918C8.41373%203.70382%208.79768%203.98278%209.23091%203.98278H11.9656C12.9343%203.98278%2013.3371%205.22239%2012.5534%205.7918L10.341%207.39919C9.99048%207.65383%209.84382%208.1052%209.9777%208.51722L10.8228%2011.118C11.1221%2012.0393%2010.0676%2012.8055%209.28391%2012.2361L7.07153%2010.6287C6.72104%2010.374%206.24644%2010.374%205.89596%2010.6287L3.68357%2012.2361C2.89986%2012.8055%201.84538%2012.0393%202.14473%2011.118L2.98978%208.51722C3.12366%208.1052%202.977%207.65383%202.62651%207.39919L0.414132%205.7918C-0.369582%205.2224%200.0331929%203.98278%201.00192%203.98278H3.73657C4.1698%203.98278%204.55375%203.70382%204.68763%203.2918L5.53268%200.690983Z'%20fill='var(--fill-0,%20%23EEA10C)'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2012.9675%2012.4316'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Star%205'%20d='M5.53268%200.690983C5.83204%20-0.230327%207.13545%20-0.230328%207.4348%200.690983L8.27985%203.2918C8.41373%203.70382%208.79768%203.98278%209.23091%203.98278H11.9656C12.9343%203.98278%2013.3371%205.22239%2012.5534%205.7918L10.341%207.39919C9.99048%207.65383%209.84382%208.1052%209.9777%208.51722L10.8228%2011.118C11.1221%2012.0393%2010.0676%2012.8055%209.28391%2012.2361L7.07153%2010.6287C6.72104%2010.374%206.24644%2010.374%205.89596%2010.6287L3.68357%2012.2361C2.89986%2012.8055%201.84538%2012.0393%202.14473%2011.118L2.98978%208.51722C3.12366%208.1052%202.977%207.65383%202.62651%207.39919L0.414132%205.7918C-0.369582%205.2224%200.0331929%203.98278%201.00192%203.98278H3.73657C4.1698%203.98278%204.55375%203.70382%204.68763%203.2918L5.53268%200.690983Z'%20fill='var(--fill-0,%20%23F4F4F4)'%20fill-opacity='0.2'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.1499%2013.6499L13.6499%207.1499M13.6499%207.1499L7.1499%200.649902M13.6499%207.1499H0.649902'%20stroke='%23242424'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23F4F4F4'%20fill-opacity='0.2'/%3e%3cpath%20d='M24.7293%2011.907C24.4611%2011.594%2023.9834%2011.5528%2023.6631%2011.8138L21.5637%2013.5369L20.5983%2011.1998C20.564%2011.1121%2020.5119%2011.0384%2020.452%2010.9734C20.2547%2010.5446%2019.9122%2010.1763%2019.44%209.96297C19.235%209.872%2019.0233%209.82326%2018.8116%209.79944C18.765%209.77561%2018.7229%209.7442%2018.6697%209.72796L14.9754%208.72184C14.7681%208.6666%2014.5597%208.70234%2014.3891%208.79981C14.1862%208.86696%2014.0122%209.011%2013.9291%209.22002L12.538%2012.7149C12.3873%2013.0951%2012.5801%2013.5239%2012.9703%2013.6734C13.3582%2013.8207%2013.7983%2013.6311%2013.9501%2013.2499L15.125%2010.2987L16.8076%2010.7557C16.7666%2010.8207%2016.7222%2010.8814%2016.689%2010.9507L14.532%2015.5188C14.501%2015.586%2014.4844%2015.6542%2014.4622%2015.7235L11.8408%2020.0177L7.45378%2021.4516C6.95721%2021.8144%206.85192%2022.4978%207.2188%2022.983C7.5879%2023.4692%208.28951%2023.5721%208.78497%2023.2137L13.274%2021.7029C13.4114%2021.6054%2013.5112%2021.4776%2013.5866%2021.34C13.6431%2021.2816%2013.7074%2021.235%2013.7506%2021.1624L15.3135%2018.6022L18.0878%2020.9123L15.1195%2024.1808C14.7105%2024.6313%2014.7515%2025.3255%2015.2148%2025.7241C15.677%2026.1259%2016.3853%2026.0836%2016.7965%2025.6309L20.5008%2021.5534C20.6161%2021.4278%2020.6848%2021.2826%2020.7313%2021.131C20.759%2021.0487%2020.759%2020.9632%2020.7657%2020.8776C20.7657%2020.8343%2020.7823%2020.7953%2020.779%2020.7552C20.769%2020.4563%2020.6449%2020.1661%2020.3944%2019.9592L17.8417%2017.8322C18.0257%2017.661%2018.182%2017.4574%2018.2951%2017.2181L19.9488%2013.7189L20.4786%2015.0975C20.5008%2015.2199%2020.5429%2015.3401%2020.6316%2015.4409C20.7114%2015.534%2020.8134%2015.5957%2020.922%2015.6391C20.9331%2015.6445%2020.9464%2015.6456%2020.9597%2015.6488C21.0284%2015.6726%2021.0982%2015.6954%2021.1703%2015.6986C21.2556%2015.7062%2021.3421%2015.6954%2021.4296%2015.6715C21.4318%2015.6705%2021.4329%2015.6705%2021.4329%2015.6705C21.4562%2015.665%2021.4795%2015.6694%2021.5028%2015.6596C21.6258%2015.6141%2021.72%2015.5372%2021.8009%2015.4474L24.8136%2012.9488C25.1339%2012.6857%2024.9987%2012.22%2024.7293%2011.907Z'%20fill='%23F4F4F4'/%3e%3cpath%20d='M20.9191%2010.1263C22.0853%2010.1263%2023.0306%209.20259%2023.0306%208.06314C23.0306%206.9237%2022.0853%206%2020.9191%206C19.753%206%2018.8076%206.9237%2018.8076%208.06314C18.8076%209.20259%2019.753%2010.1263%2020.9191%2010.1263Z'%20fill='%23F4F4F4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%206L6%2018M6%206L18%2018'%20stroke='%23F4F4F4'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.3671%203.84172C16.9415%203.41589%2016.4361%203.0781%2015.8799%202.84763C15.3237%202.61716%2014.7275%202.49854%2014.1254%202.49854C13.5234%202.49854%2012.9272%202.61716%2012.371%202.84763C11.8147%203.0781%2011.3094%203.41589%2010.8838%203.84172L10.0004%204.72506L9.11709%203.84172C8.25735%202.98198%207.09128%202.49898%205.87542%202.49898C4.65956%202.49898%203.4935%202.98198%202.63376%203.84172C1.77401%204.70147%201.29102%205.86753%201.29102%207.08339C1.29102%208.29925%201.77401%209.46531%202.63376%2010.3251L3.51709%2011.2084L10.0004%2017.6917L16.4838%2011.2084L17.3671%2010.3251C17.7929%209.89943%2018.1307%209.39407%2018.3612%208.83785C18.5917%208.28164%2018.7103%207.68546%2018.7103%207.08339C18.7103%206.48132%2018.5917%205.88514%2018.3612%205.32893C18.1307%204.77271%2017.7929%204.26735%2017.3671%203.84172Z'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.3671%203.84172C16.9415%203.41589%2016.4361%203.0781%2015.8799%202.84763C15.3237%202.61716%2014.7275%202.49854%2014.1254%202.49854C13.5234%202.49854%2012.9272%202.61716%2012.371%202.84763C11.8147%203.0781%2011.3094%203.41589%2010.8838%203.84172L10.0004%204.72506L9.11709%203.84172C8.25735%202.98198%207.09128%202.49898%205.87542%202.49898C4.65956%202.49898%203.4935%202.98198%202.63376%203.84172C1.77401%204.70147%201.29102%205.86753%201.29102%207.08339C1.29102%208.29925%201.77401%209.46531%202.63376%2010.3251L3.51709%2011.2084L10.0004%2017.6917L16.4838%2011.2084L17.3671%2010.3251C17.7929%209.89943%2018.1307%209.39407%2018.3612%208.83785C18.5917%208.28164%2018.7103%207.68546%2018.7103%207.08339C18.7103%206.48132%2018.5917%205.88514%2018.3612%205.32893C18.1307%204.77271%2017.7929%204.26735%2017.3671%203.84172Z'%20fill='%23242424'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2015L7.5%2010L12.5%205'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2015L7.5%2010L12.5%205'%20stroke='%23d4d4d4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2015L5%2010L10%205'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%2015L10%2010L15%205'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2015L5%2010L10%205'%20stroke='%23d4d4d4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%2015L10%2010L15%205'%20stroke='%23d4d4d4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","import trashIcon from '../images/icons/ic-remove.svg';\r\nimport starOrangeIcon from '../images/icons/ic-star-filled.svg';\r\nimport starGreyIcon from '../images/icons/ic-star-empty.svg';\r\nimport arrowRightIcon from '../images/icons/ic-go.svg';\r\nimport runningManLightIcon from '../images/icons/ic-athlete-light.svg';\r\nimport xLightIcon from '../images/icons/ic-close-light.svg';\r\nimport heartDarkIcon from '../images/icons/ic-save-dark.svg';\r\nimport heartFilledDarkIcon from '../images/icons/ic-save-filled-dark.svg';\r\nimport chevronLeftDark from '../images/icons/ic-back-dark.svg';\r\nimport chevronLeftLight from '../images/icons/ic-back-light.svg';\r\nimport chevronDoubleLeftDark from '../images/icons/ic-skip-back-dark.svg';\r\nimport chevronDoubleLeftLight from '../images/icons/ic-skip-back-light.svg';\r\n\r\nexport const ICONS = {\r\n  trash: trashIcon,\r\n  starOrange: starOrangeIcon,\r\n  starGrey: starGreyIcon,\r\n  arrowRight: arrowRightIcon,\r\n  runningManLight: runningManLightIcon,\r\n  xLight: xLightIcon,\r\n  heartDark: heartDarkIcon,\r\n  heartFilledDark: heartFilledDarkIcon,\r\n  chevronLeftDark,\r\n  chevronLeftLight,\r\n  chevronDoubleLeftDark,\r\n  chevronDoubleLeftLight,\r\n};","import { ICONS } from './assets.js';\n\nexport function categoryCardTemplate({ name, filter, imgURL }) {\n  return `<li class=\"exercise-card\" data-name=\"${name}\" data-filter=\"${filter}\">\n  <a class=\"exercise-card-link\" href=\"#\">\n    <img src=\"${imgURL}\" alt=\"${name}\" class=\"exercise-card-img\" loading=\"lazy\" />\n    <div class=\"exercise-card-overlay\">\n      <p class=\"exercise-card-name\">${name}</p>\n      <p class=\"exercise-card-subtitle\">${filter}</p>\n    </div>\n  </a>\n</li>`;\n}\n\nexport function workoutCardTemplate(exercise, { showTrash = false } = {}) {\n  const rating = exercise.rating ? exercise.rating.toFixed(1) : '0.0';\n\n  const removeBtn = showTrash\n    ? `<button\n        class=\"workout-card-trash\"\n        type=\"button\"\n        aria-label=\"Remove from favorites\"\n        data-remove-id=\"${exercise._id}\"\n      >\n        <img src=\"${ICONS.trash}\" alt=\"\" width=\"16\" height=\"16\" />\n      </button>`\n    : '';\n\n  return `<li class=\"workout-card\" data-exercise-id=\"${exercise._id}\">\n  <div class=\"workout-card-top\">\n    <span class=\"workout-card-badge\">WORKOUT</span>\n    <span class=\"workout-card-rating\">\n      ${rating}\n      <img src=\"${ICONS.starOrange}\" alt=\"rating star\" width=\"18\" height=\"18\" />\n    </span>\n    ${removeBtn}\n    <button class=\"workout-card-start\" type=\"button\" data-start-id=\"${exercise._id}\">\n      Start\n      <img src=\"${ICONS.arrowRight}\" alt=\"\" width=\"16\" height=\"16\" />\n    </button>\n  </div>\n  <div class=\"workout-card-body\">\n    <div class=\"workout-card-icon\">\n      <img src=\"${ICONS.runningManLight}\" alt=\"\" width=\"24\" height=\"24\" />\n    </div>\n    <h3 class=\"workout-card-name\">${exercise.name}</h3>\n  </div>\n  <div class=\"workout-card-meta\">\n    <span>Burned calories: <strong>${exercise.burnedCalories} / ${exercise.time} min</strong></span>\n    <span>Body part: <strong>${exercise.bodyPart}</strong></span>\n    <span>Target: <strong>${exercise.target}</strong></span>\n  </div>\n</li>`;\n}\n\nexport function detailModalTemplate(exercise, isSaved) {\n  const stars = buildStarIcons(exercise.rating);\n  const btnLabel = isSaved ? 'Remove' : 'Add to favorites';\n  const heartSrc = isSaved ? ICONS.heartFilledDark : ICONS.heartDark;\n\n  return `<div class=\"modal-exercise-content\">\n  <button class=\"modal-close\" type=\"button\" aria-label=\"Close modal\" data-modal-close>\n    <img class=\"modal-close-icon\" src=\"${ICONS.xLight}\" alt=\"\" width=\"24\" height=\"24\" />\n  </button>\n\n  <div class=\"modal-exercise-gif\">\n    <img src=\"${exercise.gifUrl}\" alt=\"${exercise.name}\" />\n  </div>\n\n  <div class=\"modal-exercise-info\">\n    <h3 class=\"modal-exercise-title\">${exercise.name}</h3>\n\n    <div class=\"modal-exercise-rating\">\n      <span class=\"modal-exercise-rating-value\">${exercise.rating.toFixed(1)}</span>\n      <div class=\"modal-exercise-stars\" aria-label=\"Rating: ${exercise.rating.toFixed(1)} out of 5\">\n        ${stars}\n      </div>\n    </div>\n\n    <div class=\"modal-exercise-details\">\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Target</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.target}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Body Part</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.bodyPart}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Equipment</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.equipment}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Popular</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.popularity}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Burned calories</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.burnedCalories} / ${exercise.time} min</span>\n      </div>\n    </div>\n\n    <p class=\"modal-exercise-desc\">${exercise.description}</p>\n\n    <div class=\"modal-exercise-actions\">\n      <button class=\"modal-btn modal-btn-fav\" type=\"button\" data-fav-id=\"${exercise._id}\">\n        <span>${btnLabel}</span>\n        <img class=\"modal-btn-fav-icon\" src=\"${heartSrc}\" alt=\"\" width=\"18\" height=\"18\" />\n      </button>\n      <button class=\"modal-btn modal-btn-rating\" type=\"button\" data-rating-id=\"${exercise._id}\">\n        Give a rating\n      </button>\n    </div>\n  </div>\n</div>`;\n}\n\nexport function reviewModalTemplate(exerciseId) {\n  return `<div class=\"modal-rating-content\">\n  <button class=\"modal-close\" type=\"button\" aria-label=\"Close modal\" data-modal-close>\n    <img class=\"modal-close-icon\" src=\"${ICONS.xLight}\" alt=\"\" width=\"28\" height=\"28\" />\n  </button>\n\n  <p class=\"modal-rating-label\">Rating</p>\n\n  <div class=\"modal-rating-row\">\n    <span class=\"modal-rating-value\">0.0</span>\n    <div class=\"modal-rating-stars\" role=\"group\" aria-label=\"Select rating from 1 to 5\">\n      ${[1, 2, 3, 4, 5]\n        .map(\n          n => `<img\n            class=\"modal-star\"\n            src=\"${ICONS.starGrey}\"\n            alt=\"${n} star\"\n            width=\"24\"\n            height=\"24\"\n            data-star=\"${n}\"\n            tabindex=\"0\"\n            role=\"button\"\n            aria-label=\"Rate ${n} out of 5\"\n          />`\n        )\n        .join('')}\n    </div>\n  </div>\n\n  <form class=\"modal-rating-form\" data-exercise-id=\"${exerciseId}\" novalidate>\n    <input\n      class=\"modal-rating-email\"\n      type=\"email\"\n      name=\"email\"\n      placeholder=\"Email\"\n      autocomplete=\"email\"\n      pattern=\"^\\\\w+(\\\\.\\\\w+)?@[a-zA-Z_]+(\\\\.[a-zA-Z_]+)*\\\\.[a-zA-Z]{2,3}$\"\n      required\n    />\n    <textarea\n      class=\"modal-rating-comment\"\n      name=\"review\"\n      placeholder=\"Your comment\"\n      rows=\"4\"\n      required\n    ></textarea>\n    <button class=\"modal-rating-submit\" type=\"submit\">Send</button>\n    <p class=\"modal-rating-message\" hidden aria-live=\"polite\"></p>\n  </form>\n</div>`;\n}\n\n// ─── internal helpers ────────────────────────────────────────────────────────\n\nfunction buildStarIcons(rating) {\n  const filled = Math.round(rating);\n  return [1, 2, 3, 4, 5]\n    .map(\n      n => `<img\n        src=\"${n <= filled ? ICONS.starOrange : ICONS.starGrey}\"\n        alt=\"\"\n        width=\"14\"\n        height=\"14\"\n      />`\n    )\n    .join('');\n}","import { ICONS } from './assets.js';\n\nexport function renderPager(containerEl, currentPage, totalPages, onSelect) {\n  containerEl.innerHTML = '';\n  if (totalPages <= 1) return;\n\n  const atStart = currentPage === 1;\n  const atEnd = currentPage === totalPages;\n\n  const leftGroup = document.createElement('div');\n  leftGroup.className = 'pagination-arrows';\n  leftGroup.innerHTML = `\n    <button class=\"pagination-arrow\" data-page=\"first\" ${atStart ? 'disabled' : ''} aria-label=\"First page\">\n      <img src=\"${atStart ? ICONS.chevronDoubleLeftLight : ICONS.chevronDoubleLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\" />\n    </button>\n    <button class=\"pagination-arrow\" data-page=\"prev\" ${atStart ? 'disabled' : ''} aria-label=\"Previous page\">\n      <img src=\"${atStart ? ICONS.chevronLeftLight : ICONS.chevronLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\" />\n    </button>\n  `;\n  containerEl.appendChild(leftGroup);\n\n  const numbersGroup = document.createElement('div');\n  numbersGroup.className = 'pagination-numbers';\n\n  buildPageRange(currentPage, totalPages).forEach(entry => {\n    if (entry === '...') {\n      const dot = document.createElement('span');\n      dot.className = 'pagination-ellipsis';\n      dot.textContent = '...';\n      numbersGroup.appendChild(dot);\n    } else {\n      const btn = document.createElement('span');\n      btn.className = 'pagination-num';\n      if (entry === currentPage) btn.classList.add('is-active');\n      btn.textContent = entry;\n      btn.dataset.page = entry;\n      numbersGroup.appendChild(btn);\n    }\n  });\n  containerEl.appendChild(numbersGroup);\n\n  const rightGroup = document.createElement('div');\n  rightGroup.className = 'pagination-arrows pagination-arrows--right';\n  rightGroup.innerHTML = `\n    <button class=\"pagination-arrow\" data-page=\"next\" ${atEnd ? 'disabled' : ''} aria-label=\"Next page\">\n      <img src=\"${atEnd ? ICONS.chevronLeftLight : ICONS.chevronLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\" />\n    </button>\n    <button class=\"pagination-arrow\" data-page=\"last\" ${atEnd ? 'disabled' : ''} aria-label=\"Last page\">\n      <img src=\"${atEnd ? ICONS.chevronDoubleLeftLight : ICONS.chevronDoubleLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\" />\n    </button>\n  `;\n  containerEl.appendChild(rightGroup);\n\n  containerEl.onclick = e => {\n    e.stopPropagation();\n    const target = e.target.closest('[data-page]');\n    if (!target || target.disabled) return;\n\n    let next;\n    switch (target.dataset.page) {\n      case 'first': next = 1; break;\n      case 'prev':  next = Math.max(1, currentPage - 1); break;\n      case 'next':  next = Math.min(totalPages, currentPage + 1); break;\n      case 'last':  next = totalPages; break;\n      default:      next = parseInt(target.dataset.page, 10);\n    }\n\n    if (next !== currentPage) onSelect(next);\n  };\n}\n\nfunction buildPageRange(current, total) {\n  if (total <= 4) return Array.from({ length: total }, (_, i) => i + 1);\n\n  const mid = Math.ceil(total / 2);\n  let start = Math.max(1, current - 1);\n  let end   = Math.min(total, current + 1);\n\n  if (end - start < 2) {\n    if (start === 1) end = Math.min(3, total);\n    else if (end === total) start = Math.max(1, total - 2);\n  }\n\n  const range = [];\n\n  if (current <= mid) {\n    for (let i = start; i <= end; i++) range.push(i);\n    if (end < total) range.push('...');\n  } else {\n    if (start > 1) range.push('...');\n    for (let i = start; i <= end; i++) range.push(i);\n  }\n\n  return range;\n}","let containerEl = null;\nlet searchCallback = null;\n\nfunction onKeydown(e) {\n  if (e.key === 'Enter') {\n    e.preventDefault();\n    triggerSearch();\n  }\n}\n\nfunction onBtnClick() {\n  triggerSearch();\n}\n\nfunction triggerSearch() {\n  if (!containerEl || !searchCallback) return;\n  const input = containerEl.querySelector('.exercises-search-input');\n  searchCallback(input.value.trim());\n}\n\nexport function initFinder(callback) {\n  containerEl = document.querySelector('.exercises-search');\n  if (!containerEl) return;\n\n  searchCallback = callback;\n  containerEl.hidden = false;\n\n  const input = containerEl.querySelector('.exercises-search-input');\n  const btn = containerEl.querySelector('.exercises-search-btn');\n\n  input.addEventListener('keydown', onKeydown);\n  btn.addEventListener('click', onBtnClick);\n}\n\nexport function destroyFinder() {\n  if (!containerEl) return;\n\n  const input = containerEl.querySelector('.exercises-search-input');\n  const btn = containerEl.querySelector('.exercises-search-btn');\n\n  input.removeEventListener('keydown', onKeydown);\n  btn.removeEventListener('click', onBtnClick);\n\n  input.value = '';\n  containerEl.hidden = true;\n  containerEl = null;\n  searchCallback = null;\n}","import { fetchWorkouts } from './http.js';\nimport { workoutCardTemplate } from './templates.js';\nimport { renderPager } from './pager.js';\nimport { initFinder, destroyFinder } from './finder.js';\n\nlet listEl = null;\nlet pagerEl = null;\nlet onBackFn = null;\nlet queryParams = {};\nlet currentPage = 1;\n\nexport function showWorkouts(categoryName, paramKey, titleEl, _listEl, _pagerEl, onBack) {\n  listEl = _listEl;\n  pagerEl = _pagerEl;\n  onBackFn = onBack;\n  currentPage = 1;\n  queryParams = { [paramKey]: categoryName, limit: 10 };\n\n  if (titleEl) {\n    titleEl.innerHTML = `<span class=\"exercises-title-back\">Exercises</span> / <span class=\"exercises-title-category\">${categoryName}</span>`;\n    const backBtn = titleEl.querySelector('.exercises-title-back');\n    if (backBtn) {\n      backBtn.addEventListener('click', handleBack, { once: true });\n    }\n  }\n\n  initFinder(keyword => {\n    queryParams.keyword = keyword || undefined;\n    currentPage = 1;\n    fetchAndRender();\n  });\n\n  fetchAndRender();\n}\n\nfunction handleBack() {\n  hideWorkouts();\n  const titleEl = document.querySelector('.exercises-title');\n  if (titleEl) titleEl.textContent = 'Exercises';\n  if (onBackFn) onBackFn();\n}\n\nexport function hideWorkouts() {\n  destroyFinder();\n  if (listEl) listEl.classList.remove('exercises-list--workouts');\n}\n\nasync function fetchAndRender() {\n  if (!listEl) return;\n\n  const params = { ...queryParams, page: currentPage };\n  Object.keys(params).forEach(k => params[k] === undefined && delete params[k]);\n\n  try {\n    const data = await fetchWorkouts(params);\n    const items = data.results ?? [];\n\n    listEl.innerHTML = items.length\n      ? items.map(ex => workoutCardTemplate(ex)).join('')\n      : '<li class=\"workout-card\"><p class=\"exercises-empty-msg\">No exercises found. Try a different search term.</p></li>';\n\n    listEl.classList.add('exercises-list--workouts');\n\n    const total = parseInt(data.totalPages, 10) || 1;\n    if (pagerEl) {\n      renderPager(pagerEl, currentPage, total, page => {\n        currentPage = page;\n        fetchAndRender();\n      });\n    }\n  } catch {\n    listEl.innerHTML = '<li class=\"workout-card\"><p class=\"exercises-empty-msg\">Failed to load exercises. Please try again later.</p></li>';\n  }\n}","import { fetchCategories } from './http.js';\nimport { categoryCardTemplate } from './templates.js';\nimport { renderPager } from './pager.js';\nimport { showWorkouts, hideWorkouts } from './workouts.js';\n\nconst FILTER_LABELS = {\n  muscles:      'Muscles',\n  'body-parts': 'Body parts',\n  equipment:    'Equipment',\n};\n\nconst FILTER_PARAMS = {\n  muscles:      'muscles',\n  'body-parts': 'bodypart',\n  equipment:    'equipment',\n};\n\nlet activeFilter = 'muscles';\nlet currentPage = 1;\nlet inWorkoutsView = false;\n\nexport function initCategories() {\n  const tabsEl    = document.querySelector('.exercises-tabs');\n  const listEl    = document.querySelector('.exercises-list');\n  const pagerEl   = document.querySelector('.exercises-grid .pagination');\n  const titleEl   = document.querySelector('.exercises-title');\n\n  if (!tabsEl || !listEl) return;\n\n  tabsEl.addEventListener('click', e => {\n    const tab = e.target.closest('.exercises-tab');\n    if (!tab) return;\n\n    tabsEl.querySelectorAll('.exercises-tab').forEach(t => t.classList.remove('is-active'));\n    tab.classList.add('is-active');\n\n    activeFilter = tab.dataset.filter;\n    currentPage = 1;\n    inWorkoutsView = false;\n\n    hideWorkouts();\n    if (titleEl) titleEl.textContent = 'Exercises';\n    loadCategories(listEl, pagerEl);\n  });\n\n  listEl.addEventListener('click', e => {\n    const card = e.target.closest('.exercise-card');\n    if (!card || inWorkoutsView) return;\n    e.preventDefault();\n\n    inWorkoutsView = true;\n    const name = card.dataset.name;\n    const paramKey = FILTER_PARAMS[activeFilter];\n\n    showWorkouts(name, paramKey, titleEl, listEl, pagerEl, () => {\n      inWorkoutsView = false;\n      currentPage = 1;\n      loadCategories(listEl, pagerEl);\n    });\n  });\n\n  loadCategories(listEl, pagerEl);\n}\n\nasync function loadCategories(listEl, pagerEl) {\n  const label = FILTER_LABELS[activeFilter];\n\n  try {\n    const data = await fetchCategories(label, currentPage, 12);\n    const items = data.results ?? [];\n\n    listEl.innerHTML = items.length\n      ? items.map(categoryCardTemplate).join('')\n      : '<li class=\"exercise-card\"><p class=\"exercises-empty-msg\">No categories found.</p></li>';\n\n    const total = parseInt(data.totalPages, 10) || 1;\n    if (pagerEl) {\n      renderPager(pagerEl, currentPage, total, page => {\n        currentPage = page;\n        loadCategories(listEl, pagerEl);\n      });\n    }\n  } catch {\n    listEl.innerHTML = '<li class=\"exercise-card\"><p class=\"exercises-empty-msg\">Failed to load categories. Please try again later.</p></li>';\n  }\n}","import { workoutCardTemplate } from './templates.js';\nimport { renderPager } from './pager.js';\n\nconst STORAGE_KEY = 'savedWorkouts';\nconst PER_PAGE = 8;\n\nexport function getSaved() {\n  try {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY)) ?? [];\n  } catch {\n    return [];\n  }\n}\n\nexport function addToSaved(exercise) {\n  const list = getSaved();\n  if (list.some(item => item._id === exercise._id)) return;\n  list.push(exercise);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(list));\n}\n\nexport function removeFromSaved(id) {\n  const updated = getSaved().filter(item => item._id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));\n}\n\nexport function isInSaved(id) {\n  return getSaved().some(item => item._id === id);\n}\n\nexport function initSavedPage() {\n  const listEl  = document.querySelector('.favorites-list');\n  const pagerEl = document.querySelector('.favorites-content .pagination');\n  if (!listEl) return;\n\n  let page = 1;\n\n  function render(targetPage) {\n    page = targetPage;\n    const items = getSaved();\n\n    if (items.length === 0) {\n      listEl.innerHTML = `<li class=\"favorites-empty\">\n        <p>It appears that you haven't added any exercises to your favorites yet.\n        Start exploring and add exercises that you enjoy to your favorites for easy access in the future.</p>\n      </li>`;\n      if (pagerEl) pagerEl.innerHTML = '';\n      return;\n    }\n\n    const totalPages = Math.ceil(items.length / PER_PAGE);\n    if (page > totalPages) page = totalPages;\n\n    const start = (page - 1) * PER_PAGE;\n    const slice = items.slice(start, start + PER_PAGE);\n\n    listEl.innerHTML = slice\n      .map(ex => workoutCardTemplate(ex, { showTrash: true }))\n      .join('');\n\n    if (pagerEl) renderPager(pagerEl, page, totalPages, render);\n  }\n\n  listEl.addEventListener('click', e => {\n    const btn = e.target.closest('[data-remove-id]');\n    if (!btn) return;\n    removeFromSaved(btn.dataset.removeId);\n    render(page);\n  });\n\n  render(1);\n}","import { submitSubscription } from './http.js';\n\nconst EMAIL_RE = /^\\w+(\\.\\w+)?@[a-zA-Z_]+(\\.[a-zA-Z_]+)*\\.[a-zA-Z]{2,3}$/;\n\nexport function initNewsletter() {\n  const form = document.querySelector('.footer-form');\n  if (!form) return;\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const input = form.querySelector('.footer-input');\n    const email = input.value.trim();\n    const msgEl = getOrCreateMsg(form);\n\n    if (!EMAIL_RE.test(email)) {\n      showMsg(msgEl, 'Please enter a valid email address.', 'error');\n      return;\n    }\n\n    try {\n      const data = await submitSubscription(email);\n      showMsg(msgEl, data.message || 'You have successfully subscribed!', 'success');\n      input.value = '';\n    } catch (err) {\n      showMsg(msgEl, err.message || 'Subscription failed. Please try again.', 'error');\n    }\n  });\n}\n\nfunction getOrCreateMsg(form) {\n  let el = form.querySelector('.footer-form-message');\n  if (!el) {\n    el = document.createElement('p');\n    el.className = 'footer-form-message';\n    form.appendChild(el);\n  }\n  return el;\n}\n\nfunction showMsg(el, text, type) {\n  el.textContent = text;\n  el.className = `footer-form-message footer-form-message--${type}`;\n  el.hidden = false;\n}","import { submitRating } from './http.js';\nimport { reviewModalTemplate } from './templates.js';\nimport { ICONS } from './assets.js';\nimport { openDetailModal } from './detail-modal.js';\n\nlet backdropEl = null;\nlet targetId = null;\nlet chosenRating = 0;\n\nconst EMAIL_RE = /^\\w+(\\.\\w+)?@[a-zA-Z_]+(\\.[a-zA-Z_]+)*\\.[a-zA-Z]{2,3}$/;\n\nfunction onBackdropClick(e) {\n  if (e.target === backdropEl || e.target.closest('[data-modal-close]')) {\n    closeReviewModal();\n  }\n}\n\nfunction onKeydown(e) {\n  if (e.key === 'Escape') closeReviewModal();\n}\n\nexport function initReviewModal() {\n  backdropEl = document.querySelector('[data-modal-rating]');\n}\n\nexport function openReviewModal(exerciseId) {\n  if (!backdropEl) return;\n\n  targetId = exerciseId;\n  chosenRating = 0;\n\n  backdropEl.innerHTML = reviewModalTemplate(exerciseId);\n  backdropEl.hidden = false;\n  document.body.style.overflow = 'hidden';\n\n  backdropEl.addEventListener('click', onBackdropClick);\n  document.addEventListener('keydown', onKeydown);\n\n  bindStars();\n  bindForm();\n}\n\nfunction bindStars() {\n  const stars = backdropEl.querySelectorAll('[data-star]');\n  const valueEl = backdropEl.querySelector('.modal-rating-value');\n\n  stars.forEach(star => {\n    const select = () => {\n      chosenRating = parseInt(star.dataset.star, 10);\n      highlightStars(stars, chosenRating);\n      if (valueEl) valueEl.textContent = `${chosenRating}.0`;\n    };\n\n    star.addEventListener('click', select);\n    star.addEventListener('keydown', e => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        select();\n      }\n    });\n  });\n}\n\nfunction bindForm() {\n  const form = backdropEl.querySelector('.modal-rating-form');\n  if (form) form.addEventListener('submit', handleSubmit);\n}\n\nasync function handleSubmit(e) {\n  e.preventDefault();\n\n  const form  = e.currentTarget;\n  const msgEl = form.querySelector('.modal-rating-message');\n  const email = form.email.value.trim();\n  const review = form.review.value.trim();\n\n  if (!chosenRating) {\n    notify(msgEl, 'Please select a rating before submitting.', 'error');\n    return;\n  }\n  if (!EMAIL_RE.test(email)) {\n    notify(msgEl, 'Please enter a valid email address.', 'error');\n    return;\n  }\n  if (!review) {\n    notify(msgEl, 'Please leave a comment before submitting.', 'error');\n    return;\n  }\n\n  try {\n    await submitRating(targetId, { rate: chosenRating, email, review });\n    notify(msgEl, 'Thank you for your feedback!', 'success');\n\n    setTimeout(() => {\n      const id = targetId;\n      closeReviewModal();\n      openDetailModal(id);\n    }, 1500);\n  } catch (err) {\n    notify(msgEl, err.message || 'Something went wrong. Please try again.', 'error');\n  }\n}\n\nfunction closeReviewModal() {\n  if (!backdropEl) return;\n  backdropEl.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onKeydown);\n  backdropEl.hidden = true;\n  backdropEl.innerHTML = '';\n  document.body.style.overflow = '';\n  targetId = null;\n  chosenRating = 0;\n}\n\nfunction highlightStars(stars, rating) {\n  stars.forEach(star => {\n    const val = parseInt(star.dataset.star, 10);\n    star.src = val <= rating ? ICONS.starOrange : ICONS.starGrey;\n  });\n}\n\nfunction notify(el, text, type) {\n  if (!el) return;\n  el.textContent = text;\n  el.className = `modal-rating-message modal-rating-message--${type}`;\n  el.hidden = false;\n}","import { fetchWorkoutById } from './http.js';\nimport { detailModalTemplate } from './templates.js';\nimport { addToSaved, removeFromSaved, isInSaved } from './saved.js';\nimport { openReviewModal } from './review-modal.js';\nimport { ICONS } from './assets.js';\n\nlet backdropEl = null;\n\nfunction onBackdropClick(e) {\n  if (e.target === backdropEl || e.target.closest('[data-modal-close]')) {\n    closeDetailModal();\n  }\n}\n\nfunction onKeydown(e) {\n  if (e.key === 'Escape') closeDetailModal();\n}\n\nexport function initDetailModal() {\n  backdropEl = document.querySelector('[data-modal-exercise]');\n  if (!backdropEl) return;\n\n  document.addEventListener('click', e => {\n    const btn = e.target.closest('[data-start-id]');\n    if (btn) openDetailModal(btn.dataset.startId);\n  });\n}\n\nexport async function openDetailModal(id) {\n  if (!backdropEl) return;\n\n  try {\n    const exercise = await fetchWorkoutById(id);\n    const saved = isInSaved(id);\n\n    backdropEl.innerHTML = detailModalTemplate(exercise, saved);\n    backdropEl.hidden = false;\n    document.body.style.overflow = 'hidden';\n\n    backdropEl.addEventListener('click', onBackdropClick);\n    document.addEventListener('keydown', onKeydown);\n\n    const favBtn = backdropEl.querySelector('[data-fav-id]');\n    if (favBtn) {\n      favBtn.addEventListener('click', () => toggleSaved(exercise, favBtn));\n    }\n\n    const ratingBtn = backdropEl.querySelector('[data-rating-id]');\n    if (ratingBtn) {\n      ratingBtn.addEventListener('click', () => {\n        closeDetailModal();\n        openReviewModal(ratingBtn.dataset.ratingId);\n      });\n    }\n  } catch {\n  }\n}\n\nfunction toggleSaved(exercise, btn) {\n  const id = exercise._id;\n  const labelEl = btn.querySelector('span');\n  const iconEl = btn.querySelector('img');\n\n  if (isInSaved(id)) {\n    removeFromSaved(id);\n    if (labelEl) labelEl.textContent = 'Add to favorites';\n    if (iconEl) iconEl.src = ICONS.heartDark;\n  } else {\n    addToSaved(exercise);\n    if (labelEl) labelEl.textContent = 'Remove';\n    if (iconEl) iconEl.src = ICONS.heartFilledDark;\n  }\n}\n\nfunction closeDetailModal() {\n  if (!backdropEl) return;\n  backdropEl.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onKeydown);\n  backdropEl.hidden = true;\n  backdropEl.innerHTML = '';\n  document.body.style.overflow = '';\n}","import { initDailyQuote }  from './js/daily-quote.js';\nimport { initCategories }  from './js/categories.js';\nimport { initSavedPage }   from './js/saved.js';\nimport { initNewsletter }  from './js/newsletter.js';\nimport { initDetailModal } from './js/detail-modal.js';\nimport { initReviewModal } from './js/review-modal.js';\n\n// ── Mobile menu ──────────────────────────────────────────────────────────────\nconst openBtn   = document.querySelector('[data-menu-open]');\nconst closeBtn  = document.querySelector('[data-menu-close]');\nconst menuPanel = document.querySelector('[data-menu]');\n\nfunction openMenu() {\n  menuPanel.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeMenu() {\n  menuPanel.classList.remove('is-open');\n  document.body.style.overflow = '';\n}\n\nif (openBtn && closeBtn && menuPanel) {\n  openBtn.addEventListener('click', openMenu);\n  closeBtn.addEventListener('click', closeMenu);\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && menuPanel.classList.contains('is-open')) {\n      closeMenu();\n    }\n  });\n}\n\n// ── Footer year ──────────────────────────────────────────────────────────────\nconst yearEl = document.querySelector('[data-year]');\nif (yearEl) yearEl.textContent = new Date().getFullYear();\n\n// ── Init modules ─────────────────────────────────────────────────────────────\ninitDailyQuote();\ninitNewsletter();\ninitDetailModal();\ninitReviewModal();\n\nif (document.querySelector('.exercises')) {\n  initCategories();\n}\n\nif (document.querySelector('.favorites')) {\n  initSavedPage();\n}"],"names":["API_URL","request","path","options","response","payload","message","error","fetchQuote","fetchCategories","filter","page","limit","params","fetchWorkouts","query","fetchWorkoutById","id","submitRating","body","submitSubscription","email","QUOTE_KEY","todayString","readFromCache","raw","data","writeToCache","quote","author","renderQuote","textEl","authorEl","initDailyQuote","cached","trashIcon","starOrangeIcon","starGreyIcon","arrowRightIcon","runningManLightIcon","xLightIcon","heartDarkIcon","heartFilledDarkIcon","chevronLeftDark","chevronLeftLight","chevronDoubleLeftDark","chevronDoubleLeftLight","ICONS","categoryCardTemplate","name","imgURL","workoutCardTemplate","exercise","showTrash","rating","removeBtn","detailModalTemplate","isSaved","stars","buildStarIcons","btnLabel","heartSrc","reviewModalTemplate","exerciseId","n","filled","renderPager","containerEl","currentPage","totalPages","onSelect","atStart","atEnd","leftGroup","numbersGroup","buildPageRange","entry","dot","btn","rightGroup","e","target","next","current","total","_","i","mid","start","end","range","searchCallback","onKeydown","triggerSearch","onBtnClick","input","initFinder","callback","destroyFinder","listEl","pagerEl","onBackFn","queryParams","showWorkouts","categoryName","paramKey","titleEl","_listEl","_pagerEl","onBack","backBtn","handleBack","keyword","fetchAndRender","hideWorkouts","k","items","ex","FILTER_LABELS","FILTER_PARAMS","activeFilter","inWorkoutsView","initCategories","tabsEl","tab","t","loadCategories","card","label","STORAGE_KEY","PER_PAGE","getSaved","addToSaved","list","item","removeFromSaved","updated","isInSaved","initSavedPage","render","targetPage","slice","EMAIL_RE","initNewsletter","form","msgEl","getOrCreateMsg","showMsg","err","el","text","type","backdropEl","targetId","chosenRating","onBackdropClick","closeReviewModal","initReviewModal","openReviewModal","bindStars","bindForm","valueEl","star","select","highlightStars","handleSubmit","review","notify","openDetailModal","val","closeDetailModal","initDetailModal","saved","favBtn","toggleSaved","ratingBtn","labelEl","iconEl","openBtn","closeBtn","menuPanel","openMenu","closeMenu","yearEl"],"mappings":"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"}